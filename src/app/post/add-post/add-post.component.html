<div class="row">
  <div class="col-xs-8 col-xs-offset-2">

    <form [formGroup]="postForm" (ngSubmit)="onAddPost()">

      <h3>ADD POST</h3>

      <div class="row">
        <div class="col-xs-12 form-group">
          <label for="title">Title</label>
          <input type="text" id="title" formControlName="title" name="title" class="form-control">
          <p class="help-block" *ngIf="!postForm.get('title').valid && postForm.get('title').touched">Please enter a Title.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 form-group">
          <label for="imagePath">Image URL</label>
          <input type="text" id="imagePath" formControlName="imagePath" name="imagePath" class="form-control">
          <p class="help-block" *ngIf="!postForm.get('imagePath').valid && postForm.get('imagePath').touched">Please enter an Image URL.</p>
        </div>
      </div>

      <div class="row" *ngIf="postForm.get('imagePath').value">
        <div class="col-xs-12 form-group">
          <label>Image Preview:</label>
          <img [src]="postForm.get('imagePath').value.trim()" class="img-responsive">
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 form-group">
          <label for="content">Content</label>
          <textarea rows="6" id="content" formControlName="content" name="content" class="form-control"></textarea>
          <p class="help-block" *ngIf="!postForm.get('content').valid && postForm.get('content').touched">Please enter post content.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-xs-12 form-group" formArrayName="tags">
          <label>Tags</label>
          <div class="row tagMargin" *ngFor="let tag of postForm.get('tags')['controls']; let i = index">
            <div class="col-xs-10">
              <input type="text" class="form-control" [formControlName]="i">
              <p class="help-block" *ngIf="!postForm.get('tags')['controls'][i].valid && postForm.get('tags')['controls'][i].touched">Please enter a Tag.</p>
            </div>
            <div class="col-xs-2">
              <button type="button" (click)="onRemoveTag(i)" class="btn btn-danger">X</button>
            </div>
          </div>
        </div>
      </div>

      <hr>

      <div class="row">
        <div class="col-xs-3 fullWidth">
          <button type="button" class="btn btn-primary" (click)="onAddTag()">Add Tag</button>
        </div>
      </div>

      <div class="row submitBtns">
        <div class="col-xs-3 col-xs-offset-3">
          <button type="submit" [disabled]="!postForm.valid" class="btn btn-success fullWidth">Save</button>
        </div>
        <div class="col-xs-3">
          <button type="button" (click)="onCancel()" class="btn btn-danger fullWidth">Cancel</button>
        </div>
      </div>

    </form>
  </div>
</div>
